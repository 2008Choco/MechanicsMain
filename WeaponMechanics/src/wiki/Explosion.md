## Contents
* [Explosion Features]()
* [Examples]()

## Explosion Features
Explosions generated by WeaponMechanics are not like minecraft explosions. This allows us to control
exactly how and which blocks are destroyed, and how to regenerate them. This also allows us to optimize
the explosions to cause less lag

```yaml
  Explosion:
    Disable_Vanilla_Knockback: <Boolean>
    Explosion_Shape: <Sphere/Cube/Parabola/Default>
    Explosion_Exposure: <Default/Distance/None>
    Explosion_Type_Data:
      Yield: <Double>
      Radius: <Double>
      Angle: <Double>
      Depth: <Double>
      Width: <Double>
      Height: <Double>
    Detonation:
      Detonate_After_Ticks: <Ticks> 
      Impact_When:
        Shoot: <Boolean>
        Entity: <Boolean> 
        Block: <Boolean> 
        Liquid: <Boolean> 
    Block_Damage:
      Break_Blocks: <Boolean> 
      Damage_Per_Hit: <Integer>
      Blacklist: <Boolean>
      Block_List:
        - <Material>:<Data>~<Integer>
      Shots_To_Break_Blocks:
        - <Material>:<Data>~<Integer>
    Cluster_Bomb:
      Split_Projectile: <ProjectileSerializer> 
      Projectile_Speed: <Double>
      Number_Of_Bombs: <Integer> 
      Number_Of_Splits: <Integer> 
    Airstrike:
      Dropped_Projectile: <ProjectileSerializer>
      Minimum_Bombs: <Integer> 
      Maximum_Bombs: <Integer>
      Height: <Double> 
      Vertical_Randomness: <Double> 
      Distance_Between_Bombs: <Double> 
      Maximum_Distance_From_Center: <Double>
      Layers: <Integer> 
      Delay_Between_Layers: <Integer>
    Regeneration:
      Ticks_Before_Start: <Integer> 
      Max_Blocks_Per_Update: <Integer> 
      Ticks_Between_Updates: <Integer>
```

#### `Disable_Vanilla_Knockback`: 
If this is `true`, entities will not be knocked back.

#### `Explosion_Exposure`:
An entity's exposure determines how much damage they take. Let say the maximum damage an explosion can so is `10`.
If the entity has `58%` exposure, then the entity will take `10 * 0.58 = 5.8` damage. Note that explosion exposure
can take a lot of resources to calculate, depending on which exposure type you select here:
* `Default`:
  * Replicates vanilla minecraft explosion behavior
  * This is the most resource intensive method
  * Influenced by block obstructions and distance to the explosion
* `Distance`:
  * Exposure is only influenced by the entity's distance to the explosion
* `None`:
  * Most lightweight method
  * Exposure always equals `100%`

#### `Explosion_Shape`:
Determines the shape of the blocks that are blown up. Certain methods take less resources to calculate than others.
* `Sphere`: Spherical shaped explosion, takes the argument(s): `Radius`
* `Cube`: Cubical shaped explosion, takes the argument(s): `Height`, `Width`
* `Parabola`: Parabolic shaped explosion, takes the argument(s): `Depth`, `Angle`
* `Default`: Replicates the [vanilla minecraft explosion](Vanilla_Explosion), takes the argument(s): `Yield`

#### `Explosion_Type_Data`:
The arguments taken by the shape of the explosion. Note, only arguments used from the explosion's shape will be used.
For example, `Explosion_Shape: SPHERE` will only use `Radius`
* `Yield`:
  * This is kind of like the radius of the explosion, but it will always be a bit smaller than the radius
  * For reference, `tnt = 4`, `creeper = 3`, `charged creeper = 6`
* `Radius`:
  * The radius is how far from the center of the explosion blocks will be destroyed
* `Angle`:
  * This one requires basic algebra to understand. Consider the following: `y = mx + b`, point slope formula. `Angle` is the same as `m`, so `Angle` is the slope of the parabola
  * For reference, `0.5` is a good value for smaller explosions
* `Depth`:
  * This one requires basic algebra to understand. Consider the following: `y = mx + b`, point slope formula. `Depth` is the same as `b`, so `Depth` is the y-offset of the parabola
  * Note: This should be a negative value!
* `Width`:
  * How wide the explosion is
* `Height`:
  * How tall the explosion is
  
Alright, I understand that is probably a bit confusing, so I suggest looking at [the examples]()
for some help.

#### `Detonation`:
Determines when the explosion is triggered
* `Delay_After_Impact`: How long, in ticks, after the explosion triggers that the explosion actually occurs
* `Impact_When`:
  * `Shoot`: Explosion is triggered right after shooting. This is useful for grenades/grenade launchers
  * `Entity`: Explosion is triggered after colliding with an entity
  * `Block`: Explosion is triggered after colliding with a **solid** block
  * `Fluid`: Explosion is triggered after colliding with a fluid

#### `Block_Damage`:
`Block_Damage` allows greater control over how blocks are actually damaged. For example, if you only
want blocks to crack instead of break, or if you want blocks like stone/concrete/bricks etc to take
more damage before breaking.

If you don't want to cause any sort of block damage, simply don't add `Block_Damage` to your weapon.
This will cause block calculations to be completely skipped, saving some resources.

* `Break_Blocks`: True if you want blocks to break
* `Damage_Per_Hit`: How much damage to deal to the block. Defaults to 1.
* `Blacklist`:
  * If true, blocks in `Block_List` cannot be broken (and `Shots_To_Break_Blocks` will be
  used for block durabilities since they can't be added to the `Block_List`)
  * If false, only blocks in `Block_List` can be broken
* `Block_List`:
  * List follows format: `<Material>:<Data>~<Integer>`
  * See [Materials for your version]()
  * Examples:
    * `- DIRT` Destroys dirt with one shot
    * `- OBSIDIAN~5` Destroys obsidian with 5 shots
    * `- STAINED_GLASS_PANE~1` Destroys all stained glass panes with 1 shot (`1.12` and lower)
    * `- STAINED_GLASS_PANE:7~2` Overrides ^, destroys gray stained glass panes with 2 shots (`1.12` and lower)
    * `- GRAY_STAINED_GLASS_PANE` Destroys gray stained glass panes with 1 shot (`1.13` and higher)
* `Shots_To_Break_Blocks`:
  * Same thing as `Block_List`, but is only used for block durabilities when `Blacklist: true`

#### `Regeneration`:
This should be used together with `Block_Damage`. If you don't want blocks to regenerate, simply
don't add this.

Note: Block regeneration isn't perfect. Redstone (especially redstone loops) can cause redstone to break
before/during block regeneration. Hopper reliant systems (Like item sorters) will have minor issues as well.
To my knowledge, everything else works fine and blocks regenerate as you would expect. If this worries you, you
can protect your redstone using world guard flags.

* `Ticks_Before_Start`: The time, in ticks, before blocks will begin to regenerate
* `Max_Blocks_Per_Update`: How many blocks to regenerate at a time
* `Ticks_Between_Updates`: The time, in ticks, between block regenerations

#### `Effects`:
As per usual, learn about effects [here]()

But to add to that, a suggestion: Since this is a custom explosion algorithm, the sounds and particles
do not generate. In order to do that, I suggest adding something like this:
```yaml
    Effects:
      Sounds:
      - ENTITY_GENERIC_EXPLODE~4.0~0.73~0~0.05
      Particles:
        a:
          Type: EXPLOSION_LARGE
          Amount: 10
          Horizontal_Spread: 2.5
```

## Examples:
This explosion is designed specifically for entity damage, and sounds.
Right after colliding with any entity or solid block, the explosion occurs.

```yaml
  Explosion:
    Explosion_Exposure: Default
    Explosion_Shape: Default
    Explosion_Type_Data:
      Yield: 5
    Detonation:
      Impact_When:
        Entity: true
        Block: true
    Effects:
      Sounds:
      - ENTITY_GENERIC_EXPLODE~4.0~0.73~0~0.05    
```

This explosion is designed for blocks, where stones take multiple hits to destroy,
and resource blocks (iron, gold, diamond) cannot be broken. Blocks will begin to regenerate
after 10 seconds

Note: Designed in 1.15, will not work in 1.12 and lower
```yaml
  Explosion:
    Disable_Vanilla_Knockback: true
    Explosion_Exposure: None
    Explosion_Shape: Sphere
    Explosion_Type_Data:
      Radius: 4.5
    Detonation:
      Impact_When:
        Block: true
    Block_Damage:
      Break_Blocks: true
      Blacklist: true
      Block_List:
        - diamond_block
        - gold_block
        - iron_block
      Shots_To_Break_Blocks:
        - stone~2
        - diorite~2
        - andesite~2
        - granite~2
    Regeneration:
      Ticks_Before_Start: 200
      Max_Blocks_Per_Update: 1
      Ticks_Between_Updates: 3
```

[Vanilla_Explosion]: https://minecraft.gamepedia.com/Explosion